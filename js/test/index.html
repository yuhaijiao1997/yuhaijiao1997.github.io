<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/index.css" type="text/css">
</head>
<body>
<div id="header">
    <img src="img/top.png">
    <p onclick="xiao()">x</p>
</div>
<div id="nav">
    <ul>
        <li class="one">电脑办公</li>
        <li>生活电器</li>
        <li>手机通讯</li>
        <li>大家电</li>
        <li>智能数码</li>
        <li>饮料酒水</li>
        <li>家居家装</li>
        <li>女婴童装</li>
        <li>食品生鲜</li>
        <li>个护家清</li>
    </ul>
</div>
<div id="banner">
    <div id="lun">
        <ul>
            <li class="action" id="a"><img src="img/banner1.jpg"></li>
            <li><img src="img/banner2.jpg"></li>
        </ul>

        <div id="num-list">
            <ul>
                <li><span class="active-num">1</span></li>
                <li><span>2</span></li>
            </ul>
        </div>
    </div>
</div>
<div id="table">
    <table>
        <tr>
            <th>商品</th>
            <th>描述</th>
            <th>单价</th>
            <th>数量</th>
            <th>小计</th>
        </tr>
        <tr>
            <td><img src="img/product01.png"></td>
            <td>华为HUAWEI nova青春版4GB+64GB樱语粉 移动联通电信4G手机</td>
            <td>&yen;1789.00</td>
            <td>
                <button onclick="toggle(this)" class="button">+</button>
                <span>1</span>
                <button onclick="toggle(this)" class="button">-</button>
            </td>
            <td>&yen;1789.00</td>
        </tr>
        <tr>
            <td><img src="img/product02.png"></td>
            <td>vivo Y55 全网通2G+16G 移动联通电信4G手机 双卡双待 玫瑰金</td>
            <td>&yen;1999.00</td>
            <td>
                <button onclick="toggle(this)" class="button">+</button>
                <span>1</span>
                <button onclick="toggle(this)" class="button">-</button>
            </td>
            <td>&yen;1999.00</td>
        </tr>
        <tr>
            <td><img src="img/product03.png"></td>
            <td>vivo Y67 全网通4G+32G 移动联通电信4G手机 双卡双待 Y67A玫瑰金</td>
            <td>&yen;2199.00</td>
            <td>
                <button onclick="toggle(this)" class="button">+</button>
                <span>1</span>
                <button onclick="toggle(this)" class="button">-</button>
            </td>
            <td>&yen;2199.00</td>
        </tr>
        <tr id="total">
            <td colspan="4" class="three">总计</td>
            <td class="two">&yen;5987</td>
        </tr>
    </table>
</div>
<script>




    function xiao(p){
        var header=document.getElementById("header");
        header.firstElementChild.style.display="none";
        header.lastElementChild.style.display="none";
    }




    var lis=document.getElementById("nav").children[0].children;
    for(var i=0;i<lis.length;i++){
        lis[i].onmouseover=function(){
            this.style.background="#fff";
        };
        lis[i].onmouseout=function(){
            this.style.background="#e3393c";
        };
    }



    var pic=document.getElementById("lun").firstElementChild.children;
    var list=document.getElementById("num-list").firstElementChild.children;
    var n=0;
    var timer;
    function run(){
        timer=setInterval(function(){
            pic[n].removeAttribute("class");
            list[n].firstElementChild.removeAttribute("class");
            n++;
            if(n>=pic.length){
                n=0;
            }
            pic[n].setAttribute("class","action");
            list[n].firstElementChild.setAttribute("class","active-num");
        },1000)
    }
    run();



    function toggle(btn){
        var span=btn.parentElement.querySelector("span");
        var c=parseInt(span.innerHTML);
        if(btn.innerHTML=="+"){
            c++;
        }else if(c>1){
            c--;
        }else{
            c=1;
        }
        span.innerHTML=c;
        var price=btn.parentElement.previousElementSibling.innerHTML.slice(1);
        var subtotal=price*c;
        btn.parentElement.nextElementSibling.innerHTML="&yen;"+subtotal.toFixed(2);
        var tds=document.querySelectorAll("table tr td:last-child");
        for(j=0,total=0;j<tds.length;j++){
            total+=parseInt(tds[j].innerHTML.slice(1));
        }
        document.getElementById("total").children[1].innerHTML="&yen;"+total;
    }

</script>
</body>
</html>